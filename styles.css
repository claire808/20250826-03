
*{box-sizing:border-box}
:root{--safe: env(safe-area-inset-bottom, 16px)}
html,body,#app{height:100%}
body{margin:0;background:#111;color:#fff;font:16px/1.4 -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Inter,Helvetica,Arial}
#app{position:relative;overflow:hidden}
.error{position:absolute;top:10px;left:10px;right:10px;z-index:50;background:#ff3b30;color:#fff;border-radius:10px;padding:8px 12px;font-weight:700}
.hidden{display:none}
video#video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:brightness(1.06) contrast(1.04) saturate(1.05)}
canvas#overlay{position:absolute;inset:0;width:100%;height:100%;pointer-events:none}
.topbar{position:absolute;top:10px;left:0;right:0;display:flex;gap:8px;justify-content:flex-end;padding:0 12px;z-index:10}
.pill{background:rgba(255,255,255,.9);color:#111;border:none;border-radius:999px;padding:8px 12px;font-weight:600;box-shadow:0 2px 6px rgba(0,0,0,.25)}
.pill.on{background:#fff}.pill.secondary{background:rgba(255,255,255,.75)}
.bottombar{position:absolute;left:0;right:0;bottom:0;padding-bottom:var(--safe);background:linear-gradient(180deg,transparent 0%,rgba(0,0,0,.35) 20%,rgba(0,0,0,.75) 100%);z-index:9;padding-top:12px}
.shutter-row{display:flex;align-items:center;justify-content:space-between;padding:0 18px 8px}
.round{display:inline-flex;align-items:center;justify-content:center;background:#fff;border-radius:999px;border:none;cursor:pointer;box-shadow:0 6px 20px rgba(0,0,0,.35)}
.round.big{width:72px;height:72px;border:6px solid rgba(0,0,0,.08)}.round.small{width:44px;height:44px}
#colorPickerBtn #colorDot{display:block;width:24px;height:24px;border-radius:999px;border:2px solid rgba(0,0,0,.15)}
.seg{display:flex;gap:8px;justify-content:center;padding:4px 10px}
.seg-btn{flex:1;max-width:180px;background:rgba(255,255,255,.9);color:#111;border:none;padding:10px;border-radius:14px;font-weight:700}
.seg-btn.active{outline:2px solid #8b8bff}
.tab{display:none;padding:8px 12px 10px}.tab.active{display:block}
.swatches{display:flex;gap:10px;overflow-x:auto;padding-bottom:6px}
.swatches button{flex:0 0 auto;width:36px;height:36px;border-radius:999px;border:2px solid rgba(255,255,255,.8);box-shadow:0 2px 8px rgba(0,0,0,.35)}
.styles{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-top:8px}
.styles button{height:54px;border-radius:12px;border:none;background:#fff;position:relative;overflow:hidden}
.styles button span{position:absolute;left:6px;bottom:6px;font-size:12px;color:#111;background:rgba(255,255,255,.7);padding:2px 6px;border-radius:6px}
.field{display:flex;align-items:center;justify-content:space-between;gap:12px;margin:6px 2px}
.field span{font-weight:700}
.field input[type="text"]{flex:1;min-width:0;border-radius:12px;border:none;padding:10px 12px;font-size:16px}
.field.row{align-items:center}
.switch{position:relative;width:52px;height:30px}
.switch input{display:none}
.switch span{position:absolute;inset:0;background:rgba(255,255,255,.7);border-radius:999px}
.switch span:after{content:"";position:absolute;top:3px;left:3px;width:24px;height:24px;background:#fff;border-radius:999px;transition:.2s}
.switch input:checked + span{background:#9fa8ff}
.switch input:checked + span:after{left:25px}
.hint{opacity:.85;font-size:12px;margin-top:6px}
#preview{position:absolute;inset:0;background:rgba(0,0,0,.8);display:flex;flex-direction:column;gap:12px;align-items:center;justify-content:center;z-index:20;padding:14px}
#preview.hidden{display:none}
#preview img{max-width:92vw;border-radius:16px;box-shadow:0 20px 50px rgba(0,0,0,.4)}
.preview-actions{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}
